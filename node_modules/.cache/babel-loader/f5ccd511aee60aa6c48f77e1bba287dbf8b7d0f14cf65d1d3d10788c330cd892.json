{"ast":null,"code":"import { cartService } from \"../../services/cart.service.js\";\nimport { showSuccessMsg, showErrorMsg, showUserMsg } from '../../services/event-bus.service.js';\n\n// Action Creators\nexport function getActionRemoveItem(itemId) {\n  console.log('reducer remove', itemId);\n  return {\n    type: 'REMOVE_FROM_CART',\n    itemId\n  };\n}\nexport function getActionAddItem(item) {\n  console.log('getActionAddItem');\n  console.log(item);\n  return {\n    type: 'ADD_TO_CART',\n    item\n  };\n}\nexport function getActionUpdateItem(item) {\n  console.log('getActionUpdateItem');\n  console.log(item);\n  return {\n    type: 'UPDATE_ITEM_IN_CART',\n    item\n  };\n}\nexport function loadCart() {\n  return async dispatch => {\n    const items = await cartService.query().then(items => {\n      dispatch({\n        type: 'SET_CART',\n        items\n      });\n    }).catch(err => {\n      console.log('err:', err);\n    });\n  };\n}\nexport function addItem(item) {\n  console.log('addCart(item):', item);\n  return async dispatch => {\n    try {\n      const savedCart = await cartService.save(item);\n      console.log(savedCart);\n      dispatch(getActionAddItem(savedCart));\n      showSuccessMsg('Added to cart!');\n    } catch (err) {\n      showErrorMsg('Cannot add item');\n      console.log('Cannot add item', err);\n    }\n  };\n}\nexport function updateItem(item) {\n  return async dispatch => {\n    try {\n      const savedItem = await cartService.save(item);\n      console.log('updated cart:', savedItem);\n      dispatch(getActionUpdateItem(savedItem));\n      showSuccessMsg('Cart updated');\n    } catch (error) {\n      showUserMsg('cant update cart');\n      console.log('cannot update cart', error);\n    }\n  };\n}\nexport function removeItem(itemId) {\n  console.log(itemId);\n  return (dispatch, getState) => {\n    cartService.remove(itemId).then(() => {\n      dispatch({\n        type: 'REMOVE_FROM_CART',\n        itemId\n      });\n    }).catch(err => {\n      console.log('err:', err);\n    });\n  };\n}","map":{"version":3,"names":["cartService","showSuccessMsg","showErrorMsg","showUserMsg","getActionRemoveItem","itemId","console","log","type","getActionAddItem","item","getActionUpdateItem","loadCart","dispatch","items","query","then","catch","err","addItem","savedCart","save","updateItem","savedItem","error","removeItem","getState","remove"],"sources":["C:/bloomin/bloomin/src/store/actions/cart.actions.js"],"sourcesContent":["import { cartService } from \"../../services/cart.service.js\"\r\nimport { showSuccessMsg, showErrorMsg, showUserMsg } from '../../services/event-bus.service.js'\r\n\r\n// Action Creators\r\nexport function getActionRemoveItem(itemId) {\r\n    console.log('reducer remove', itemId)\r\n    return { type: 'REMOVE_FROM_CART', itemId }\r\n}\r\n\r\nexport function getActionAddItem(item) {\r\n    console.log('getActionAddItem')\r\n    console.log(item)\r\n    return {\r\n        type: 'ADD_TO_CART',\r\n        item,\r\n    }\r\n}\r\n\r\nexport function getActionUpdateItem(item) {\r\n    console.log('getActionUpdateItem')\r\n    console.log(item)\r\n    return {\r\n        type: 'UPDATE_ITEM_IN_CART',\r\n        item,\r\n    }\r\n}\r\n\r\nexport function loadCart() {\r\n    return async (dispatch) => {\r\n        const items = await cartService.query()\r\n            .then(items => {\r\n                dispatch({ type: 'SET_CART', items })\r\n            })\r\n            .catch(err => {\r\n                console.log('err:', err)\r\n            })\r\n        }\r\n    }\r\n\r\nexport function addItem(item) {\r\n    console.log('addCart(item):', item)\r\n    return async (dispatch) => {\r\n        try {\r\n            const savedCart = await cartService.save(item)\r\n            console.log(savedCart)\r\n            dispatch(getActionAddItem(savedCart))\r\n            showSuccessMsg('Added to cart!')\r\n        } catch (err) {\r\n            showErrorMsg('Cannot add item')\r\n            console.log('Cannot add item', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function updateItem(item) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const savedItem = await cartService.save(item)\r\n            console.log('updated cart:', savedItem)\r\n            dispatch(getActionUpdateItem(savedItem))\r\n            showSuccessMsg('Cart updated')\r\n        } catch (error) {\r\n            showUserMsg('cant update cart')\r\n            console.log('cannot update cart', error)\r\n        }\r\n    }\r\n}\r\n\r\nexport function removeItem(itemId) {\r\n    console.log(itemId)\r\n    return (dispatch, getState) => {\r\n        cartService.remove(itemId)\r\n            .then(() => {\r\n                dispatch({ type: 'REMOVE_FROM_CART', itemId })\r\n            })\r\n            .catch(err => {\r\n                console.log('err:', err)\r\n            })\r\n    }\r\n}\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}