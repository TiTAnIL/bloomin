{"ast":null,"code":"import { storageService } from \"./async-storage.service.js\";\nimport { utilService } from './util.service.js';\n// import {\n//     removeAccessory,\n// } from '../store/actions/accessory.actions'\nimport { store } from '../store/index';\n\n// import axios from \"axios\"\n\nconst STORAGE_KEY = 'accessories';\nconst accessoryChannel = new BroadcastChannel('accessoryChannel');\n(() => {\n  accessoryChannel.addEventListener('message', ev => {\n    store.dispatch(ev.data);\n  });\n})();\nfunction insertDemoData() {\n  storageService.postMany(STORAGE_KEY, demoData);\n}\nexport const AccessoryService = {\n  query,\n  getById\n  // save,\n  // remove,\n  // getEmptyPlant,\n};\n\nwindow.cs = AccessoryService;\nasync function query(filterBy) {\n  var accessories = await storageService.query(STORAGE_KEY);\n  if (!accessories || !accessories.length) {\n    console.log('Accessory data missing');\n    insertDemoData();\n    console.log(' Accessory data loaded');\n  }\n  accessories = accessories.map(accessory => {\n    accessory.rate = utilService.getRandomIntInclusive(11, 39) / 10;\n    return accessory;\n  });\n  return accessories;\n}\nfunction getById(id) {\n  return storageService.get(STORAGE_KEY, id);\n}\nconst demoData = [{\n  \"_id\": \"36dece17-fcfb-4ede-8950-50cab02b28f8\",\n  \"name\": \"10 liter stainless steel funnel\",\n  \"price\": \"14.99\",\n  \"pic\": \"https://iili.io/H1x5bDv.png\"\n}, {\n  \"_id\": \"f9364362-9931-4b67-b83b-e1fb05b36b90\",\n  \"name\": \"spritzer\",\n  \"price\": \"8.39\",\n  \"pic\": \"https://iili.io/H1x5DOJ.png\"\n}, {\n  \"_id\": \"c4e41ae4-2109-4485-9e50-888a8df05922\",\n  \"name\": \"bottom\",\n  \"price\": \"12.16\",\n  \"pic\": \"https://iili.io/H1x5pxR.png\"\n}, {\n  \"_id\": \"7862fae6-afe9-4d4a-98d6-81dabde7d86c\",\n  \"name\": \"fertilizer 200gm\",\n  \"price\": \"8.12\",\n  \"pic\": \"https://iili.io/H1x5yVp.png\"\n}];","map":{"version":3,"names":["storageService","utilService","store","STORAGE_KEY","accessoryChannel","BroadcastChannel","addEventListener","ev","dispatch","data","insertDemoData","postMany","demoData","AccessoryService","query","getById","window","cs","filterBy","accessories","length","console","log","map","accessory","rate","getRandomIntInclusive","id","get"],"sources":["C:/bloomin/bloomin/src/services/accessories.service.js"],"sourcesContent":["import { storageService } from \"./async-storage.service.js\"\r\nimport { utilService } from './util.service.js'\r\n// import {\r\n//     removeAccessory,\r\n// } from '../store/actions/accessory.actions'\r\nimport { store } from '../store/index'\r\n\r\n// import axios from \"axios\"\r\n\r\nconst STORAGE_KEY = 'accessories'\r\nconst accessoryChannel = new BroadcastChannel('accessoryChannel')\r\n\r\n\r\n; (() => {\r\n    accessoryChannel.addEventListener('message', (ev) => {\r\n        store.dispatch(ev.data)\r\n    })\r\n})()\r\n\r\nfunction insertDemoData() {\r\n    storageService.postMany(STORAGE_KEY, demoData)\r\n}\r\n\r\nexport const AccessoryService = {\r\n    query,\r\n    getById,\r\n    // save,\r\n    // remove,\r\n    // getEmptyPlant,\r\n}\r\n\r\nwindow.cs = AccessoryService\r\n\r\nasync function query(filterBy) {\r\n\r\n    var accessories = await storageService.query(STORAGE_KEY)\r\n    if (!accessories || !accessories.length) {\r\n        console.log('Accessory data missing')\r\n        insertDemoData()\r\n        console.log(' Accessory data loaded')\r\n    }\r\n    accessories = accessories.map(accessory => {\r\n        accessory.rate = (utilService.getRandomIntInclusive(11, 39) / 10)\r\n        return accessory\r\n    })\r\n    return accessories\r\n}\r\n\r\nfunction getById(id) {\r\n    return storageService.get(STORAGE_KEY, id)\r\n}\r\n\r\nconst demoData = [\r\n    {\r\n        \"_id\": \"36dece17-fcfb-4ede-8950-50cab02b28f8\",\r\n        \"name\": \"10 liter stainless steel funnel\",\r\n        \"price\": \"14.99\",\r\n        \"pic\": \"https://iili.io/H1x5bDv.png\",\r\n    },\r\n    {\r\n        \"_id\": \"f9364362-9931-4b67-b83b-e1fb05b36b90\",\r\n        \"name\": \"spritzer\",\r\n        \"price\": \"8.39\",\r\n        \"pic\": \"https://iili.io/H1x5DOJ.png\",\r\n    },\r\n    {\r\n        \"_id\": \"c4e41ae4-2109-4485-9e50-888a8df05922\",\r\n        \"name\": \"bottom\",\r\n        \"price\": \"12.16\",\r\n        \"pic\": \"https://iili.io/H1x5pxR.png\",\r\n    },\r\n    {\r\n        \"_id\": \"7862fae6-afe9-4d4a-98d6-81dabde7d86c\",\r\n        \"name\": \"fertilizer 200gm\",\r\n        \"price\": \"8.12\",\r\n        \"pic\": \"https://iili.io/H1x5yVp.png\",\r\n    }\r\n]"],"mappings":"AAAA,SAASA,cAAc,QAAQ,4BAA4B;AAC3D,SAASC,WAAW,QAAQ,mBAAmB;AAC/C;AACA;AACA;AACA,SAASC,KAAK,QAAQ,gBAAgB;;AAEtC;;AAEA,MAAMC,WAAW,GAAG,aAAa;AACjC,MAAMC,gBAAgB,GAAG,IAAIC,gBAAgB,CAAC,kBAAkB,CAAC;AAG/D,CAAC,MAAM;EACLD,gBAAgB,CAACE,gBAAgB,CAAC,SAAS,EAAGC,EAAE,IAAK;IACjDL,KAAK,CAACM,QAAQ,CAACD,EAAE,CAACE,IAAI,CAAC;EAC3B,CAAC,CAAC;AACN,CAAC,GAAG;AAEJ,SAASC,cAAc,GAAG;EACtBV,cAAc,CAACW,QAAQ,CAACR,WAAW,EAAES,QAAQ,CAAC;AAClD;AAEA,OAAO,MAAMC,gBAAgB,GAAG;EAC5BC,KAAK;EACLC;EACA;EACA;EACA;AACJ,CAAC;;AAEDC,MAAM,CAACC,EAAE,GAAGJ,gBAAgB;AAE5B,eAAeC,KAAK,CAACI,QAAQ,EAAE;EAE3B,IAAIC,WAAW,GAAG,MAAMnB,cAAc,CAACc,KAAK,CAACX,WAAW,CAAC;EACzD,IAAI,CAACgB,WAAW,IAAI,CAACA,WAAW,CAACC,MAAM,EAAE;IACrCC,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;IACrCZ,cAAc,EAAE;IAChBW,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;EACzC;EACAH,WAAW,GAAGA,WAAW,CAACI,GAAG,CAACC,SAAS,IAAI;IACvCA,SAAS,CAACC,IAAI,GAAIxB,WAAW,CAACyB,qBAAqB,CAAC,EAAE,EAAE,EAAE,CAAC,GAAG,EAAG;IACjE,OAAOF,SAAS;EACpB,CAAC,CAAC;EACF,OAAOL,WAAW;AACtB;AAEA,SAASJ,OAAO,CAACY,EAAE,EAAE;EACjB,OAAO3B,cAAc,CAAC4B,GAAG,CAACzB,WAAW,EAAEwB,EAAE,CAAC;AAC9C;AAEA,MAAMf,QAAQ,GAAG,CACb;EACI,KAAK,EAAE,sCAAsC;EAC7C,MAAM,EAAE,iCAAiC;EACzC,OAAO,EAAE,OAAO;EAChB,KAAK,EAAE;AACX,CAAC,EACD;EACI,KAAK,EAAE,sCAAsC;EAC7C,MAAM,EAAE,UAAU;EAClB,OAAO,EAAE,MAAM;EACf,KAAK,EAAE;AACX,CAAC,EACD;EACI,KAAK,EAAE,sCAAsC;EAC7C,MAAM,EAAE,QAAQ;EAChB,OAAO,EAAE,OAAO;EAChB,KAAK,EAAE;AACX,CAAC,EACD;EACI,KAAK,EAAE,sCAAsC;EAC7C,MAAM,EAAE,kBAAkB;EAC1B,OAAO,EAAE,MAAM;EACf,KAAK,EAAE;AACX,CAAC,CACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}