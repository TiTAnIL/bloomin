{"ast":null,"code":"import { plantService } from \"../../services/plant.service\";\nimport { showSuccessMsg, showErrorMsg } from '../../services/event-bus.service.js';\nexport function getActionRemovePlant(plantId) {\n  return {\n    type: 'REMOVE_PLANT',\n    plantId: plantId\n  };\n}\nexport function getActionAddPlant(plant) {\n  console.log(plant);\n  return {\n    type: 'ADD_PLANT',\n    plant\n  };\n}\nexport function getActionUpdatePlant(plant) {\n  console.log(plant);\n  return {\n    type: 'UPDATE_PLANT',\n    plant\n  };\n}\nexport function loadPlants() {\n  return async (dispatch, getState) => {\n    const {\n      filterBy\n    } = getState().plantModule;\n    const plants = await plantService.query(filterBy);\n    dispatch({\n      type: 'SET_PLANTS',\n      plants\n    });\n    dispatch({\n      type: 'SET_LOADING',\n      isLoading: false\n    });\n  };\n}\nexport function setFilterBy(filterBy) {\n  return dispatch => {\n    dispatch({\n      type: 'SET_FILTER_BY',\n      filterBy\n    });\n  };\n}\nexport function removePlant(plantId) {\n  return async dispatch => {\n    try {\n      await plantService.remove(plantId);\n      console.log('Deleted Succesfully!');\n      showSuccessMsg('Plant removed');\n      dispatch(getActionRemovePlant(plantId));\n    } catch (err) {\n      showErrorMsg('Cannot remove plant');\n      console.log('Cannot remove plant', err);\n    }\n  };\n}\nexport function addPlant(plant) {\n  return async dispatch => {\n    try {\n      const savedPlant = await plantService.save(plant);\n      console.log(savedPlant);\n      dispatch(getActionAddPlant(savedPlant));\n      showSuccessMsg('plant added');\n    } catch (err) {\n      showErrorMsg('Cannot add plant');\n      console.log('cannot add plant', err);\n    }\n  };\n}\nexport function updatePlant(plant) {\n  return async dispatch => {\n    try {\n      const savedPlant = await plantService.save(plant);\n      console.log('Updated plant', savedPlant);\n      dispatch(getActionUpdatePlant(savedPlant));\n      showSuccessMsg('Plant updated');\n    } catch (err) {\n      showErrorMsg('Cannot update plant');\n      console.log('Cannot update plant', err);\n    }\n  };\n}","map":{"version":3,"names":["plantService","showSuccessMsg","showErrorMsg","getActionRemovePlant","plantId","type","getActionAddPlant","plant","console","log","getActionUpdatePlant","loadPlants","dispatch","getState","filterBy","plantModule","plants","query","isLoading","setFilterBy","removePlant","remove","err","addPlant","savedPlant","save","updatePlant"],"sources":["C:/bloomin/bloomin/src/store/actions/plant.actions.js"],"sourcesContent":["import { plantService } from \"../../services/plant.service\"\r\nimport { showSuccessMsg, showErrorMsg } from '../../services/event-bus.service.js'\r\n\r\n\r\nexport function getActionRemovePlant(plantId) {\r\n  return {\r\n    type: 'REMOVE_PLANT',\r\n    plantId: plantId,\r\n  }\r\n}\r\n\r\nexport function getActionAddPlant(plant) {\r\n  console.log(plant)\r\n  return {\r\n    type: 'ADD_PLANT',\r\n    plant,\r\n  }\r\n}\r\n\r\nexport function getActionUpdatePlant(plant) {\r\n  console.log(plant)\r\n  return {\r\n    type: 'UPDATE_PLANT',\r\n    plant,\r\n  }\r\n}\r\n\r\nexport function loadPlants() {\r\n  return async (dispatch, getState) => {\r\n    const { filterBy } = getState().plantModule\r\n    const plants = await plantService.query(filterBy)\r\n    dispatch({ type: 'SET_PLANTS', plants })\r\n    dispatch({ type: 'SET_LOADING', isLoading: false })\r\n  }\r\n}\r\n\r\nexport function setFilterBy(filterBy) {\r\n  return (dispatch) => {\r\n    dispatch({ type: 'SET_FILTER_BY', filterBy })\r\n  }\r\n}\r\n\r\nexport function removePlant(plantId) {\r\n  return async (dispatch) => {\r\n    try {\r\n      await plantService.remove(plantId)\r\n      console.log('Deleted Succesfully!')\r\n      showSuccessMsg('Plant removed')\r\n      dispatch(getActionRemovePlant(plantId))\r\n    } catch (err) {\r\n      showErrorMsg('Cannot remove plant')\r\n      console.log('Cannot remove plant', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function addPlant(plant) {\r\n  return async (dispatch) => {\r\n    try {\r\n      const savedPlant = await plantService.save(plant)\r\n      console.log(savedPlant)\r\n      dispatch(getActionAddPlant(savedPlant))\r\n      showSuccessMsg('plant added')\r\n    } catch (err) {\r\n      showErrorMsg('Cannot add plant')\r\n      console.log('cannot add plant', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function updatePlant(plant) {\r\n  return async (dispatch) => {\r\n    try {\r\n      const savedPlant = await plantService.save(plant)\r\n      console.log('Updated plant', savedPlant)\r\n      dispatch(getActionUpdatePlant(savedPlant))\r\n      showSuccessMsg('Plant updated')\r\n    } catch (err) {\r\n      showErrorMsg('Cannot update plant')\r\n      console.log('Cannot update plant', err)\r\n    }\r\n  }\r\n}\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}