{"ast":null,"code":"import { storageService } from \"./async-storage.service.js\";\nimport { utilService } from './util.service.js';\nimport { store } from '../store/index';\n// import { userService } from './user.service.js'\nimport { removeVase\n//   getActionAddStay,\n//   getActionUpdateStay,\n} from '../store/actions/vase.actions.js';\nconst STORAGE_KEY = 'vases';\nconst vaseChannel = new BroadcastChannel('vaseChannel');\n(() => {\n  vaseChannel.addEventListener('message', ev => {\n    store.dispatch(ev.data);\n  });\n})();\nfunction insertDemoData() {\n  storageService.postMany(STORAGE_KEY, demoVases);\n}\nexport const vaseService = {\n  query,\n  getById\n  // save,\n  // remove,\n  // getEmptyAccessory,\n};\n\nwindow.cs = vaseService;\nasync function query(filterBy) {\n  var vases = await storageService.query(STORAGE_KEY);\n  if (!vases || !vases.length) {\n    // console.log('vases data missing')\n    insertDemoData();\n    // console.log(' vases data loaded')\n  }\n  // vases = vases.map(vase => {\n  //     vase.rate = (utilService.getRandomIntInclusive(11, 39) / 10)\n  //     console.log('vase mapped rate added', vase)\n  //     return vase\n  // })\n  // console.log('accesories', vases)\n  return vases;\n  // let newAccessories = []\n  // if (filterBy) {\n  //     console.log('reg')\n  //     console.log(filterBy)\n  // } else {\n  //     console.log('elsed')\n  //     console.log(filterBy)\n  // }\n}\n\nfunction getById(id) {\n  return storageService.get(STORAGE_KEY, id);\n}\nconst demoVases = [{\n  \"_id\": \"36dece17-fcfb-4ede-8950-50cab02b28f8\",\n  \"name\": \"vase1\",\n  \"price\": \"16.68\",\n  \"pic\": \"https://iili.io/H1x5UDx.png\"\n  // \"quantity\": null\n}, {\n  \"_id\": \"f9364362-9931-4b67-b83b-e1fb05b36b90\",\n  \"name\": \"vase2\",\n  \"price\": \"8.39\",\n  \"pic\": \"https://iili.io/H1x5SNj.png\"\n  // \"quantity\": null\n}, {\n  \"_id\": \"c4e41ae4-2109-4485-9e50-888a8df05922\",\n  \"name\": \"vase3\",\n  \"price\": \"12.16\",\n  \"pic\": \"https://iili.io/H1x58Ab.png\"\n  // \"quantity\": null\n}, {\n  \"_id\": \"7862fae6-afe9-4d4a-98d6-81dabde7d86c\",\n  \"name\": \"vase4\",\n  \"price\": \"8.12\",\n  \"pic\": \"https://iili.io/H1x5vHu.png\"\n  // \"quantity\": null\n}, {\n  \"_id\": \"1c1a2300-d928-4858-9de4-7f83a4373759\",\n  \"name\": \"vase5\",\n  \"price\": \"16.31\",\n  \"pic\": \"https://iili.io/H1x5roQ.png\"\n  // \"quantity\": null\n}, {\n  \"_id\": \"6864878b-b113-421e-98c8-0b0400f20be6\",\n  \"name\": \"vase6\",\n  \"price\": \"1.04\",\n  \"pic\": \"https://iili.io/H1x54VV.png\"\n  // \"quantity\": null\n}, {\n  \"_id\": \"b8348a89-5fa9-4075-8cd3-7ed0bd08381a\",\n  \"name\": \"vase7\",\n  \"price\": \"4.20\",\n  \"pic\": \"https://iili.io/H1x56iB.png\"\n  // \"quantity\": null\n}, {\n  \"_id\": \"2428ea62-ea1b-425d-8a9c-f29914a02c38\",\n  \"name\": \"vase8\",\n  \"price\": \"10.07\",\n  \"pic\": \"https://iili.io/H1x5iKP.png\"\n  // \"quantity\": null\n}, {\n  \"_id\": \"3b652f4b-4e96-4e0d-a6be-dcd611b11c67\",\n  \"name\": \"vase9\",\n  \"price\": \"18.14\",\n  \"pic\": \"https://iili.io/H1x5sl1.png\"\n  // \"quantity\": null\n}, {\n  \"_id\": \"5ac24976-301d-41a2-912b-ee99b71f7201\",\n  \"name\": \"vase10\",\n  \"price\": \"7.86\",\n  \"pic\": \"https://iili.io/H1x5LUF.png\"\n  // \"quantity\": null\n}, {\n  \"_id\": \"791c5b78-ea10-4a0c-ad74-f08835053d83\",\n  \"name\": \"vase11\",\n  \"price\": \"9.43\",\n  \"pic\": \"https://iili.io/H1x5ZHg.png\"\n  // \"quantity\": null\n}, {\n  \"_id\": \"514e6f29-bd02-4147-b200-b4ad3a7de953\",\n  \"name\": \"vase12\",\n  \"price\": \"3.02\",\n  \"pic\": \"https://iili.io/H1x5tRa.png\"\n  // \"quantity\": null\n}];","map":{"version":3,"names":["storageService","utilService","store","removeVase","STORAGE_KEY","vaseChannel","BroadcastChannel","addEventListener","ev","dispatch","data","insertDemoData","postMany","demoVases","vaseService","query","getById","window","cs","filterBy","vases","length","id","get"],"sources":["C:/bloomin/bloomin/src/services/vase.service.js"],"sourcesContent":["import { storageService } from \"./async-storage.service.js\"\r\nimport { utilService } from './util.service.js'\r\nimport { store } from '../store/index'\r\n// import { userService } from './user.service.js'\r\nimport {\r\n  removeVase,\r\n//   getActionAddStay,\r\n//   getActionUpdateStay,\r\n} from '../store/actions/vase.actions.js'\r\n\r\nconst STORAGE_KEY = 'vases'\r\nconst vaseChannel = new BroadcastChannel('vaseChannel')\r\n\r\n\r\n; (() => {\r\n  vaseChannel.addEventListener('message', (ev) => {\r\n      store.dispatch(ev.data)\r\n  })\r\n})()\r\n\r\nfunction insertDemoData() {\r\n  storageService.postMany(STORAGE_KEY, demoVases)\r\n}\r\n\r\nexport const vaseService = {\r\n  query,\r\n  getById,\r\n  // save,\r\n  // remove,\r\n    // getEmptyAccessory,\r\n  }\r\n\r\n  window.cs = vaseService\r\n  \r\nasync function query(filterBy) {\r\n\r\n    var vases = await storageService.query(STORAGE_KEY)\r\n    if (!vases || !vases.length) {\r\n        // console.log('vases data missing')\r\n        insertDemoData()\r\n        // console.log(' vases data loaded')\r\n    }\r\n    // vases = vases.map(vase => {\r\n    //     vase.rate = (utilService.getRandomIntInclusive(11, 39) / 10)\r\n    //     console.log('vase mapped rate added', vase)\r\n    //     return vase\r\n    // })\r\n    // console.log('accesories', vases)\r\n    return vases\r\n    // let newAccessories = []\r\n    // if (filterBy) {\r\n    //     console.log('reg')\r\n    //     console.log(filterBy)\r\n    // } else {\r\n    //     console.log('elsed')\r\n    //     console.log(filterBy)\r\n    // }\r\n}\r\n\r\nfunction getById(id) {\r\n    return storageService.get(STORAGE_KEY, id)\r\n}\r\n\r\nconst demoVases = [{\r\n    \"_id\": \"36dece17-fcfb-4ede-8950-50cab02b28f8\",\r\n    \"name\": \"vase1\",\r\n    \"price\": \"16.68\",\r\n    \"pic\": \"https://iili.io/H1x5UDx.png\",\r\n        // \"quantity\": null\r\n  }, {\r\n    \"_id\": \"f9364362-9931-4b67-b83b-e1fb05b36b90\",\r\n    \"name\": \"vase2\",\r\n    \"price\": \"8.39\",\r\n    \"pic\": \"https://iili.io/H1x5SNj.png\",\r\n        // \"quantity\": null\r\n  }, {\r\n    \"_id\": \"c4e41ae4-2109-4485-9e50-888a8df05922\",\r\n    \"name\": \"vase3\",\r\n    \"price\": \"12.16\",\r\n    \"pic\": \"https://iili.io/H1x58Ab.png\",\r\n        // \"quantity\": null\r\n  }, {\r\n    \"_id\": \"7862fae6-afe9-4d4a-98d6-81dabde7d86c\",\r\n    \"name\": \"vase4\",\r\n    \"price\": \"8.12\",\r\n    \"pic\": \"https://iili.io/H1x5vHu.png\",\r\n        // \"quantity\": null\r\n  }, {\r\n    \"_id\": \"1c1a2300-d928-4858-9de4-7f83a4373759\",\r\n    \"name\": \"vase5\",\r\n    \"price\": \"16.31\",\r\n    \"pic\": \"https://iili.io/H1x5roQ.png\",\r\n        // \"quantity\": null\r\n  }, {\r\n    \"_id\": \"6864878b-b113-421e-98c8-0b0400f20be6\",\r\n    \"name\": \"vase6\",\r\n    \"price\": \"1.04\",\r\n    \"pic\": \"https://iili.io/H1x54VV.png\",\r\n        // \"quantity\": null\r\n  }, {\r\n    \"_id\": \"b8348a89-5fa9-4075-8cd3-7ed0bd08381a\",\r\n    \"name\": \"vase7\",\r\n    \"price\": \"4.20\",\r\n    \"pic\": \"https://iili.io/H1x56iB.png\",\r\n        // \"quantity\": null\r\n  }, {\r\n    \"_id\": \"2428ea62-ea1b-425d-8a9c-f29914a02c38\",\r\n    \"name\": \"vase8\",\r\n    \"price\": \"10.07\",\r\n    \"pic\": \"https://iili.io/H1x5iKP.png\",\r\n        // \"quantity\": null\r\n  }, {\r\n    \"_id\": \"3b652f4b-4e96-4e0d-a6be-dcd611b11c67\",\r\n    \"name\": \"vase9\",\r\n    \"price\": \"18.14\",\r\n    \"pic\": \"https://iili.io/H1x5sl1.png\",\r\n        // \"quantity\": null\r\n  }, {\r\n    \"_id\": \"5ac24976-301d-41a2-912b-ee99b71f7201\",\r\n    \"name\": \"vase10\",\r\n    \"price\": \"7.86\",\r\n    \"pic\": \"https://iili.io/H1x5LUF.png\",\r\n        // \"quantity\": null\r\n  }, {\r\n    \"_id\": \"791c5b78-ea10-4a0c-ad74-f08835053d83\",\r\n    \"name\": \"vase11\",\r\n    \"price\": \"9.43\",\r\n    \"pic\": \"https://iili.io/H1x5ZHg.png\",\r\n        // \"quantity\": null\r\n  }, {\r\n    \"_id\": \"514e6f29-bd02-4147-b200-b4ad3a7de953\",\r\n    \"name\": \"vase12\",\r\n    \"price\": \"3.02\",\r\n    \"pic\": \"https://iili.io/H1x5tRa.png\",\r\n        // \"quantity\": null\r\n  }]  \r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}